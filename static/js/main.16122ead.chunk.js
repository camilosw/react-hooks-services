(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(4),l=a.n(s),c=a(5),i=a(6),o=a(9),u=a(7),m=a(10),d=a(2),p=a(8),h=a(1),E=function(){var e=Object(n.useState)({status:"init"}),t=Object(h.a)(e,2),a=t[0],r=t[1];return{result:a,publishStarship:function(e){r({status:"loading"});var t=new Headers;return t.append("Content-Type","application/json; charset=utf-8"),new Promise(function(a,n){fetch("https://swapi.co/api/starships",{method:"POST",body:JSON.stringify(e),headers:t}).then(function(e){return e.json()}).then(function(e){r({status:"loaded",payload:e}),a(e)}).catch(function(e){r({status:"error",error:e}),n(e)})})}}},f=function(){return n.createElement("div",{className:"loader"})},v=function(){var e={name:"",crew:"",passengers:"",cost_in_credits:""},t=n.useState(e),a=Object(h.a)(t,2),r=a[0],s=a[1],l=E(),c=l.result,i=l.publishStarship,o=function(e){e.persist(),s(function(t){return Object(p.a)({},t,Object(d.a)({},e.target.name,e.target.value))})};return n.createElement("div",{className:"card sell-starship"},n.createElement("p",{className:"form-title"},"Do you have a starship to sell?"),n.createElement("form",{onSubmit:function(t){t.preventDefault(),i(r).then(function(){return s(e)})}},n.createElement("div",null,n.createElement("label",null,"Name"),n.createElement("input",{type:"text",name:"name",value:r.name,onChange:o})),n.createElement("div",null,n.createElement("label",null,"Price"),n.createElement("input",{type:"text",name:"cost_in_credits",value:r.cost_in_credits,onChange:o})),n.createElement("div",null,n.createElement("label",null,"Crew"),n.createElement("input",{type:"text",name:"crew",value:r.crew,onChange:o})),n.createElement("div",null,n.createElement("label",null,"Passengers"),n.createElement("input",{type:"text",name:"passengers",value:r.passengers,onChange:o})),n.createElement("div",{className:"button-container"},n.createElement("button",{type:"submit"},"Send"))),"loading"===c.status&&n.createElement("div",{className:"loader-container"},n.createElement(f,null)),"loaded"===c.status&&n.createElement("div",null,"Your starship has been submitted."),"error"===c.status&&n.createElement("div",null,"A disturbance in the force prevented your starship to be submitted."))},b=function(){var e=Object(n.useState)({status:"loading"}),t=Object(h.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){fetch("https://swapi.co/api/starships").then(function(e){return e.json()}).then(function(e){return r({status:"loaded",payload:e})}).catch(function(e){return r({status:"error",error:e})})},[]),a},N=function(e){var t=Object(n.useState)({status:"init"}),a=Object(h.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)(function(){e&&(s({status:"loading"}),fetch(e).then(function(e){return e.json()}).then(function(e){return s({status:"loaded",payload:e})}).catch(function(e){return s({status:"error",error:e})}))},[e]),r},g=function(e){var t=e.url,a=e.onClose,r=N(t);return n.createElement("div",{className:"starship-modal-container"},n.createElement("div",{className:"starship-modal-background",onClick:a}),"loading"===r.status&&n.createElement(f,null),"loaded"===r.status&&n.createElement("div",{className:"starship"},n.createElement("h2",null,r.payload.name),n.createElement("div",{className:"price"},r.payload.cost_in_credits&&parseInt(r.payload.cost_in_credits)?n.createElement(n.Fragment,null,new Intl.NumberFormat("en-US").format(parseInt(r.payload.cost_in_credits))," ","Credits"):"Call us for price"),n.createElement("div",{className:"starship-info"},n.createElement("div",{className:"starship-info-item"},n.createElement("div",{className:"label"},"Crew"),n.createElement("div",{className:"data"},r.payload.crew)),n.createElement("div",{className:"starship-info-item"},n.createElement("div",{className:"label"},"Passengers"),n.createElement("div",{className:"data"},r.payload.passengers)))),"error"===r.status&&n.createElement("div",{className:"starship"},"Error, something weird happened with the starship."))},y=function(){var e=b(),t=n.useState(""),a=Object(h.a)(t,2),r=a[0],s=a[1];return n.createElement(n.Fragment,null,n.createElement("div",{className:"card"},"loading"===e.status&&n.createElement("div",{className:"loader-container"},n.createElement(f,null)),"loaded"===e.status&&e.payload.results.map(function(e,t){return n.createElement("div",{className:"starship-item",onClick:function(){return s(e.url)},key:t},e.name)}),!!r&&n.createElement(g,{url:r,onClose:function(){return s("")}})),"error"===e.status&&n.createElement("div",null,"Error, the backend moved to the dark side."))},w=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Starships For Sale "),r.a.createElement("p",{className:"slogan"},"No matter what's your side on the force, we sell you the starship of your dreams."))),r.a.createElement("div",{className:"container"},r.a.createElement(y,null),r.a.createElement(v,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(17);l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.16122ead.chunk.js.map